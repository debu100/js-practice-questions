<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Practice Questions</title>
  </head>
  <body>
    <p>a</p>
    <script>
      // create hex colors
      const hexColor = Math.floor(Math.random() * 0xffffff).toString(16);
      document.body.style.backgroundColor = `#${hexColor}`;

      // copy to clipboard

      const copy = function (text) {
        navigator.clipboard.writeText(text);
      };

      document.querySelector("p").addEventListener("click", () => {
        alert("Text copied");
        copy("Copy This Exact Text");
      });

      // Destructuring--array inside an object

      const obj = {
        arr: [1, 23, 4],
      };

      const {
        arr: [a, b, c],
      } = obj;

      console.log(a, b, c);

      // map

      const arr = [1, 5, 7, 4, 2, 3];
      // expected op = ['1', '101', '111', '100']---binary values of given nums

      const op1 = arr.map((el) => {
        const binary = el.toString(2);
        return binary;
      });

      console.log(op1); //(4) ['1', '101', '111', '100']

      // filter
      const arr1 = [1, 5, 7, 4, 2, 3, 30, 40, 90, 70, 80];

      const op2 = arr1.filter((el) => {
        return el < 70;
      });

      console.log(op2);

      // reduce

      const arr3 = [
        {
          fname: "Debajit",
          lname: "Chakraborty",
          age: 27,
        },
        {
          fname: "Souvik",
          lname: "Dutta",
          age: 29,
        },
        {
          fname: "Susmita",
          lname: "Chatterjee",
          age: 22,
        },
        {
          fname: "Riya",
          lname: "Dutta",
          age: 27,
        },
      ];

      // expected op = {27:2,29:1,22:1}

      const op3 = arr3.reduce((p, c) => {
        if (p[c.age]) {
          p[c.age] = ++p[c.age];
        } else {
          p[c.age] = 1;
        }
        return p;
      }, {});

      console.log(op3); //{22: 1, 27: 2, 29: 1}

      const op4 = arr3.filter((el) => {
        return el.age < 25;
      });

      const op5 = op4.map((el) => {
        return el.fname;
      });

      console.log(op5); //['Susmita']

      const arr4 = ["green", "red", "blue", "green", "red", "red", "yellow"];
      // expected op={green:2,red:3,blue:1,yellow:1}
      const op6 = arr4.reduce((previous, current) => {
        // if (previous[current]) {
        //   previous[current] = ++previous[current];
        // } else {
        //   previous[current] = 1;
        // }
        previous[current] = (previous[current] || 0) + 1;
        return previous;
      }, {});

      console.log(op6);

      const op7 = arr3.reduce((p, c) => {
        if (p < c.age) {
          return c.age;
        } else {
          return p;
        }
      }, 0);

      console.log(op7);

      // flat array

      const arr5 = [[1, 23, 4, 5, [6, 7], [8, 9]]];
      const res = arr5.flat(1); //(6) [1, 23, 4, 5, Array(2), Array(2)]
      const res1 = arr5.flat(2); //(8) [1, 23, 4, 5, 6, 7, 8, 9]
      console.log(res1);

      // flatMap

      const arr6 = [
        [1, 2],
        [3, 4],
        [5, 6],
      ];

      const res2 = arr6.flatMap((el) => {
        return el[0] * 2 + el[1] * 3;
      });

      console.log(res2); //(3) [8, 18, 28]

      const arr7 = [
        ["D", "C"],
        ["S", "D"],
        // ["S", "C"], // here C will overwrite D value for S key
        ["R", "D"],
      ];

      // convert arr7 into an object---{D:C,S:D,S:C}

      const res3 = arr7.reduce((p, c) => {
        const key = c[0];
        const value = c[1];
        p[key] = value;
        return p;
      }, {});

      console.log(res3);

      const arr8 = [
        {
          fname: "Debajit",
          lname: "Chakraborty",
          age: 27,
        },
        {
          fname: "Souvik",
          lname: "Dutta",
          age: 29,
        },
        {
          fname: "Susmita",
          lname: "Chatterjee",
          age: 22,
        },
        {
          fname: "Riya",
          lname: "Dutta",
          age: 27,
        },
      ];

      // expected op = DC,SD,SC,RD

      const res4 = arr8.reduce((p, c) => {
        const firstName = c.fname;
        const lastName = c.lname;
        return p + " " + (firstName[0] + lastName[0]);
      }, "");

      console.log(res4);

      const arr9 = [
        {
          name: "Debajit Chakraborty",
          age: 27,
        },
        {
          name: "Souvik Dutta",
          age: 29,
        },
        {
          name: "Susmita Chatterjee",
          age: 22,
        },
        {
          name: "Riya Dutta",
          age: 27,
        },
      ];

      const res5 = arr9.reduce((p, c) => {
        const userName = c.name;
        // const firstChar = userName.charAt(0);
        // const lastChar = userName.charAt(userName.length - 1); // last char won't be coming like this
        // console.log(firstChar);
        const split = userName.split(" ");
        const fname = split[0];
        const lname = split[1];
        const fchar = fname[0];
        const lchar = lname[0];
        return `${p} ${fchar}${lchar}`;
      }, "");

      console.log(res5);
    </script>
  </body>
</html>
